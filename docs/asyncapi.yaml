asyncapi: 2.0.0
info:
  title: FFC SFI Apply Web
  version: '1.0.0'
channels:
  eligibility/check:
    publish:
      message:
        $ref: '#/components/messages/EligibilityCheck'
  agreement/submit:
    publish:
      message:
        $ref: '#/components/messages/SubmitAgreement'
  agreement/withdraw:
    publish:
      message:
        $ref: '#/components/messages/WithdrawAgreement'  

components:
  messages:
    EligibilityCheck:
      payload:
        type: object
        properties:
          sbi:
            type: number
            description: Single Business Identifier
    SubmitAgreement:
      payload:
        type: object
        properties:
          sbi:
            type: number
            description: Single Business Identifier
          agreementNumber:
            type: string
            description: Unique agreement reference
          agreement:
            type: object
    WithdrawAgreement:
      payload:
        type: object
        properties:
          sbi:
            type: number
            description: Single Business Identifier
          agreementNumber:
            type: string
            description: Unique agreement reference
